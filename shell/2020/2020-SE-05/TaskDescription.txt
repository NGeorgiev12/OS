Зад. 42 2020-SE-05 Напишете shell скрипт, който приема 3 позиционни аргумента – две имена на файлове и
име на директория. Примерно извикване:
$ ./foo.sh foo.pwd config.cfg cfgdir/
В директорията cfgdir/ и нейните под-директории може да има файлове с имена завършващи на
.cfg. За да са валидни, тези файлове трябва да съдържат редове само в следните формати (редовете
започващи с # са коментари):
# internal laboratory
{ no-production };
16
{ volatile };
# meow configs
{ run-all; };
Във файла foo.pwd има описани потребителски имена (username) и MD5 хеш суми на паролите им,
с по един запис на ред, в следният формат:
username:password_hash
Също така, разполагате с команда pwgen, която генерира и извежда на STDOUT случайни пароли, и
знаете, че поддържа следните два аргумента:
$ pwgen [ password_length ] [ number_of_passwords ]
Вашият скрипт трябва да валидира cfg файловете в директорията, и за тези, които не са валидни, да
извежда на STDOUT името на файла и номерирани редовете, които имат проблем, в следния формат:
Error in filename.cfg:
Line 1:XXXX
Line 37:YYYY
където XXXX и YYYY е съдържанието на съответния ред.
За валидните файлове, скриптът трябва да:
• генерира config.cfg като обединение на съдържанието им;
• името на файла, без частта .cfg дефинира потребителско име. Ако във файла с паролите не
съществува запис за този потребител, то такъв да се добави и на стандартния изход да се изведе
потребителското име и паролата (поне 16 символа) разделени с един интервал.
