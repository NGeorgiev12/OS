Зад. 41 2020-SE-04 Напишете скрипт, който приема два аргумента - имена на директории. Първата (SRC)
съществува, докато втората (DST) трябва да бъде създадена от скрипта. Директорията SRC и нейните
поддиректории може да съдържат файлове, чиито имена завършат на .jpg. Имената на файловете
може да съдържат интервали, както и поднизове, оградени със скоби, например:
A single (very ugly) tree (Outdoor treks) 2.jpg
Falcons.jpg
Gorgonzola (cheese).jpg
Leeches (two different ones) (Outdoor treks).jpg
Pom Pom Pom.jpg
За даден низ ще казваме, че е почистен, ако от него са премахнати leading и trailing интервалите и
всички последователни интервали са сведени до един.
За всеки файл дефинираме следните атрибути:
• заглавие - частта от името преди .jpg, без елементи оградени в скоби, почистен. Примери:
A single tree 2
Falcons
Gorgonzola
Leeches
Pom Pom Pom
• албум - последният елемент от името, който е бил ограден в скоби, почистен. Ако албум е празен
стринг, ползваме стойност по подразбиране misc. Примери:
Outdoor treks
misc
cheese
Outdoor treks
misc
• дата - времето на последна модификация на съдържанието на файла, във формат YYYY-MMDD
• хеш - първите 16 символа от sha256 сумата на файла. Забележка: приемаме, че в тази идеална
вселена първите 16 символа от sha256 сумата са уникални за всеки файл от тези, които ще се
наложи да обработваме.
Скриптът трябва да създава в директория DST необходимата структура от под-директории, файлове
и symlink–ове, така че да са изпълнени следните условия за всеки файл от SRC:
• DST/images/хеш.jpg - копие на съответния файл
• следните обекти са относителни symlink–ове към хеш.jpg:
– DST/by-date/дата/by-album/албум/by-title/заглавие.jpg
– DST/by-date/дата/by-title/заглавие.jpg
– DST/by-album/албум/by-date/дата/by-title/заглавие.jpg
– DST/by-album/албум/by-title/заглавие.jpg
– DST/by-title/заглавие.jpg